<!DOCTYPE html>
<html
    xmlns="http://www.w3.org/1999/xhtml"
    xml:lang="en"
    lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <meta name="description" content="" />
    <meta name="keywords" content="PHPMD, PMD, Project Mess Detection, Design, Maintenance, Quality Assurence, Violations, Reporting" />
    <meta name="author" content="Manuel Pichler" />
    <meta name="language" content="en" />
    <meta name="date" content="Fri, 24 May 2024 06:47:07 +0000" />
    <meta name="robots" content="all" />

    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
    <meta name="DC.title" content="About" />
    <meta name="DC.creator" content="Manuel Pichler" />
    <meta name="DC.date" content="Fri, 24 May 2024 06:47:07 +0000" />
    <meta name="DC.rights" content="BSD 3-Clause" />

    <link rel="icon" href="/favicon.ico" type="image/x-icon" />

    <link rel="Stylesheet" type="text/css" href="/css/screen.css" media="screen" />
    <link rel="Stylesheet" type="text/css" href="/css/print.css" media="print" />

    <title>PHPMD - PHP Mess Detector</title>
</head>
<body>
<h1>
    <a href="/">PHPMD - PHP Mess Detector</a>
</h1>
<div id="content">
    <hr />
<a id="clean-code-rules"></a>
<h2>Clean Code Rules</h2>
<p>The Clean Code ruleset contains rules that enforce a clean code base. This includes rules from SOLID and object calisthenics.</p>
<a id="booleanargumentflag"></a>
<h2>BooleanArgumentFlag</h2>
<p>Since: PHPMD 1.4.0</p>
<p>A boolean flag argument is a reliable indicator for a violation of the Single Responsibility Principle (SRP). You can fix this problem by extracting the logic in the boolean flag into its own class or method.</p>
<p>Example: :</p>
<pre><code class="">class Foo {
    public function bar($flag = true) {
    }
}
</code></pre>
<table><tr><th>Name</th><th>Default Value</th><th>Description</th></tr><tr><td>exceptions</td><td></td><td>Comma-separated class name list of exceptions</td></tr><tr><td>ignorepattern</td><td></td><td>Ignore methods matching this regex. Example: /^(__construct|get.*Filtered)$/</td></tr></table>
<a id="elseexpression"></a>
<h2>ElseExpression</h2>
<p>Since: PHPMD 1.4.0</p>
<p>An if expression with an else branch is basically not necessary. You can rewrite the conditions in a way that the else clause is not necessary and the code becomes simpler to read. To achieve this, use early return statements, though you may need to split the code in several smaller methods. For very simple assignments you could also use the ternary operations.</p>
<p>Example: :</p>
<pre><code class="">class Foo
{
    public function bar($flag)
    {
        if ($flag) {
            // one branch
        } else {
            // another branch
        }
    }
}
</code></pre>
<a id="staticaccess"></a>
<h2>StaticAccess</h2>
<p>Since: PHPMD 1.4.0</p>
<p>Static access causes unexchangeable dependencies to other classes and leads to hard to test code. Avoid using static access at all costs and instead inject dependencies through the constructor. The only case when static access is acceptable is when used for factory methods.</p>
<p>Example: :</p>
<pre><code class="">class Foo
{
    public function bar()
    {
        Bar::baz();
    }
}
</code></pre>
<p>This rule has the following properties:</p>
<table><tr><th>Name</th><th>Default Value</th><th>Description</th></tr><tr><td>exceptions</td><td></td><td>Comma-separated class name list of exceptions</td></tr><tr><td>ignorepattern</td><td></td><td>Ignore methods matching this regex. Example: /^create/i</td></tr></table>
<a id="ifstatementassignment"></a>
<h2>IfStatementAssignment</h2>
<p>Since: PHPMD 2.7.0</p>
<p>Assignments in if clauses and the like are considered a code smell. Assignments in PHP return the right operand as their result. In many cases, this is an expected behavior, but can lead to many difficult to spot bugs, especially when the right operand could result in zero, null or an empty string.</p>
<p>Example: :</p>
<pre><code class="">class Foo
{
    public function bar($flag)
    {
        if ($foo = 'bar') { // possible typo
            // ...
        }
        if ($baz = 0) { // always false
            // ...
        }
    }
}
</code></pre>
<a id="duplicatedarraykey"></a>
<h2>DuplicatedArrayKey</h2>
<p>Since: PHPMD 2.7.0</p>
<p>Defining another value for the same key in an array literal overrides the previous key/value, which makes it effectively an unused code. If it's known from the beginning that the key will have different value, there is usually no point in defining first one.</p>
<p>Example: :</p>
<pre><code class="">function createArray() {
    return [
        'non-associative 0-element', // not applied
        0 =&gt; 'associative 0-element', // applied
        false =&gt; 'associative 0-element', // applied
        'foo' =&gt; 'bar', // not applied
        &quot;foo&quot; =&gt; 'baz', // applied
    ];
}
</code></pre>
<a id="errorcontroloperator"></a>
<h2>ErrorControlOperator</h2>
<p>Since: PHPMD 2.9.0</p>
<p>Error suppression should be avoided if possible as it doesn't just suppress the error, that you are trying to stop, but will also suppress errors that you didn't predict would ever occur. Moreover it can slow down the execution of your code. Consider changing error_reporting() level and/or setting up your own error handler.</p>
<p>Example: :</p>
<pre><code class="">function foo($filePath) {
    $file = @fopen($filPath); // hides exceptions
    $key = @$array[$notExistingKey]; // assigns null to $key
}
</code></pre>
<a id="missingimport"></a>
<h2>MissingImport</h2>
<p>Since: PHPMD 2.7.0</p>
<p>Importing all external classes in a file through use statements makes them clearly visible.</p>
<p>Example: :</p>
<pre><code class="">function make() {
    return new \stdClass();
}
</code></pre>
<p>This rule has the following properties:</p>
<table><tr><th>Name</th><th>Default Value</th><th>Description</th></tr><tr><td>ignore-global</td><td>false</td><td>Ignore classes, interfaces and traits in the global namespace</td></tr></table>
<a id="undefinedvariable"></a>
<h2>UndefinedVariable</h2>
<p>Since: PHPMD 2.8.0</p>
<p>Detects when a variable that is used has not been defined before.</p>
<p>Example: :</p>
<pre><code class="">function printX() {
    echo $x;
}

</code></pre>
<a id="remark"></a>
<h2>Remark</h2>
<blockquote><p>This document is based on a ruleset xml-file, that was taken from the original source of the <a href="http://pmd.sourceforge.net/">PMD</a> project. This means that most parts of the content on this page are the intellectual work of the PMD community and its contributors and not of the PHPMD project.</p>
</blockquote>
</div>

<div id="navigation">
    <h2>Overview</h2>
    <ul>
        <li><a href="/about.html" title="About">About</a></li><li><a href="/documentation/index.html" title="Documentation">Documentation</a></li><li><a href="/rules/index.html" title="Rules"><strong>Rules</strong></a><ul><li><a href="/rules/cleancode.html" title="Clean Code Rules"><strong>Clean Code Rules</strong></a><li><a href="/rules/codesize.html" title="Code Size Rules">Code Size Rules</a><li><a href="/rules/controversial.html" title="Controversial Rules">Controversial Rules</a><li><a href="/rules/design.html" title="Design Rules">Design Rules</a><li><a href="/rules/naming.html" title="Naming Rules">Naming Rules</a><li><a href="/rules/unusedcode.html" title="Unused Code Rules">Unused Code Rules</a></ul></li><li><a href="/download/index.html" title="Download">Download</a></li><li><a href="/people-behind.html" title="People behind">People behind</a></li><li><a href="/support/index.html" title="Support &amp; Contact">Support &amp; Contact</a></li><li><a href="/for-enterprise.html" title="For Enterprise">For Enterprise</a></li>    </ul>
</div>

<div id="footer">
    By <strong>Manuel Pichler</strong>
    licensed under <a href="https://opensource.org/licenses/bsd-license.php" title="BSD 3-Clause">BSD 3-Clause</a>

    <span class="follow">
        <a href="https://twitter.com/php_pmd" title="Follow on Twitter" class="twitter-follow" target="_blank">
            <i></i> Follow @PHP_PMD
        </a>
        <a rel="me" href="https://phpc.social/@phpmd" title="Follow on Mastodon" class="mastodon-follow" target="_blank">
            <i></i> Follow @phpmd@phpc.social
        </a>
    </span>
</div>

<div id="formats">
        <a href="https://raw.githubusercontent.com/phpmd/phpmd/master/src/site/rst/rules/cleancode.rst">Source</a>
    |
    <a href="https://github.com/phpmd/phpmd/edit/master/src/site/rst/rules/cleancode.rst">Edit</a>
</div>

<script>
    [].forEach.call(document.querySelectorAll('pre > code'), function (code) {
        code.className += ' block';
    });
</script>
</body>
</html>
