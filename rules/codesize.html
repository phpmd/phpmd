<!DOCTYPE html>
<html
    xmlns="http://www.w3.org/1999/xhtml"
    xml:lang="en"
    lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <meta name="description" content="" />
    <meta name="keywords" content="PHPMD, PMD, Project Mess Detection, Design, Maintenance, Quality Assurence, Violations, Reporting" />
    <meta name="author" content="Manuel Pichler" />
    <meta name="language" content="en" />
    <meta name="date" content="Sun, 20 Aug 2023 17:03:08 +0000" />
    <meta name="robots" content="all" />

    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
    <meta name="DC.title" content="About" />
    <meta name="DC.creator" content="Manuel Pichler" />
    <meta name="DC.date" content="Sun, 20 Aug 2023 17:03:08 +0000" />
    <meta name="DC.rights" content="BSD 3-Clause" />

    <link rel="icon" href="/favicon.ico" type="image/x-icon" />

    <link rel="Stylesheet" type="text/css" href="/css/screen.css" media="screen" />
    <link rel="Stylesheet" type="text/css" href="/css/print.css" media="print" />

    <title>PHPMD - PHP Mess Detector</title>
</head>
<body>
<h1>
    <a href="/">PHPMD - PHP Mess Detector</a>
</h1>
<div id="content">
    <hr />
<a id="code-size-rules"></a>
<h2>Code Size Rules</h2>
<p>The Code Size Ruleset contains a collection of rules that find code size related problems.</p>
<a id="cyclomaticcomplexity"></a>
<h2>CyclomaticComplexity</h2>
<p>Since: PHPMD 0.1</p>
<p>Complexity is determined by the number of decision points in a method plus one for the method entry. The decision points are 'if', 'while', 'for', and 'case labels'. Generally, 1-4 is low complexity, 5-7 indicates moderate complexity, 8-10 is high complexity, and 11+ is very high complexity.</p>
<p>Example: :</p>
<pre><code class="">// Cyclomatic Complexity = 11
class Foo {
1   public function example() {
2       if ($a == $b) {
3           if ($a1 == $b1) {
                fiddle();
4           } elseif ($a2 == $b2) {
                fiddle();
            } else {
                fiddle();
            }
5       } elseif ($c == $d) {
6           while ($c == $d) {
                fiddle();
            }
7        } elseif ($e == $f) {
8           for ($n = 0; $n &lt; $h; $n++) {
                fiddle();
            }
        } else {
            switch ($z) {
9               case 1:
                    fiddle();
                    break;
10              case 2:
                    fiddle();
                    break;
11              case 3:
                    fiddle();
                    break;
                default:
                    fiddle();
                    break;
            }
        }
    }
}
</code></pre>
<p>This rule has the following properties:</p>
<table><tr><th>Name</th><th>Default Value</th><th>Description</th></tr><tr><td>reportLevel</td><td>10</td><td>The Cyclomatic Complexity reporting threshold</td></tr><tr><td>showClassesComplexity</td><td>true</td><td>Indicate if class average violation should be added to the report</td></tr><tr><td>showMethodsComplexity</td><td>true</td><td>Indicate if class average violation should be added to the report</td></tr></table>
<a id="npathcomplexity"></a>
<h2>NPathComplexity</h2>
<p>Since: PHPMD 0.1</p>
<p>The NPath complexity of a method is the number of acyclic execution paths through that method, that is how many possible outcomes it has.</p>
<p>A threshold of 200 is generally considered the point where measures should be taken to reduce complexity. </p>
<p>Example: :</p>
<pre><code class="">function foo() {
    if ($a &gt; 10) {
        echo 1;
    } else {
        echo 2;
    }

    if ($a &gt; $b) {
        echo 3;
    } else {
        echo 4;
    }
}

foo(1, 2); // Outputs 24
foo(11, 1); // Outputs 13
foo(11, 20); // Outputs 14
foo(5, 1); // Outputs 23
</code></pre>
<p>The method in this example has 4 possible outcomes as stated. That means it has a NPath complexity of 4.</p>
<p>This rule has the following properties:</p>
<table><tr><th>Name</th><th>Default Value</th><th>Description</th></tr><tr><td>minimum</td><td>200</td><td>The npath reporting threshold</td></tr></table>
<a id="excessivemethodlength"></a>
<h2>ExcessiveMethodLength</h2>
<p>Since: PHPMD 0.1</p>
<p>Violations of this rule usually indicate that the method is doing too much. Try to reduce the method size by creating helper methods and removing any copy/pasted code.</p>
<p>Example: :</p>
<pre><code class="">class Foo {
    public function doSomething() {
        print(&quot;Hello world!&quot; . PHP_EOL);
        print(&quot;Hello world!&quot; . PHP_EOL);
        // 98 copies omitted for brevity.
    }
}
</code></pre>
<p>This rule has the following properties:</p>
<table><tr><th>Name</th><th>Default Value</th><th>Description</th></tr><tr><td>minimum</td><td>100</td><td>The method size reporting threshold</td></tr><tr><td>ignore-whitespace</td><td>false</td><td>Count whitespace in reporting threshold</td></tr></table>
<a id="excessiveclasslength"></a>
<h2>ExcessiveClassLength</h2>
<p>Since: PHPMD 0.1</p>
<p>Long Class files are indications that the class may be trying to do too much. Try to break it down, and reduce the size to something manageable.</p>
<p>Example: :</p>
<pre><code class="">class Foo {
  public function bar() {
    // 1000 lines of code
  }
}
</code></pre>
<p>This rule has the following properties:</p>
<table><tr><th>Name</th><th>Default Value</th><th>Description</th></tr><tr><td>minimum</td><td>1000</td><td>The class size reporting threshold</td></tr><tr><td>ignore-whitespace</td><td>false</td><td>Count whitespace in reporting threshold</td></tr></table>
<a id="excessiveparameterlist"></a>
<h2>ExcessiveParameterList</h2>
<p>Since: PHPMD 0.1</p>
<p>Long parameter lists can indicate that a new object should be created to wrap the numerous parameters. Basically, try to group the parameters together.</p>
<p>Example: :</p>
<pre><code class="">class Foo {
    public function addData(
        $p0, $p1, $p2, $p3, $p4, $p5,
        $p5, $p6, $p7, $p8, $p9, $p10) {
    }
}
</code></pre>
<p>This rule has the following properties:</p>
<table><tr><th>Name</th><th>Default Value</th><th>Description</th></tr><tr><td>minimum</td><td>10</td><td>The parameter count reporting threshold</td></tr></table>
<a id="excessivepubliccount"></a>
<h2>ExcessivePublicCount</h2>
<p>Since: PHPMD 0.1</p>
<p>A large number of public methods and attributes declared in a class can indicate the class may need to be broken up as increased effort will be required to thoroughly test it.</p>
<p>Example: :</p>
<pre><code class="">public class Foo {
    public $value;
    public $something;
    public $var;
    // [... more more public attributes ...]

    public function doWork() {}
    public function doMoreWork() {}
    public function doWorkAgain() {}
    // [... more more public methods ...]
}
</code></pre>
<p>This rule has the following properties:</p>
<table><tr><th>Name</th><th>Default Value</th><th>Description</th></tr><tr><td>minimum</td><td>45</td><td>The public item reporting threshold</td></tr></table>
<a id="toomanyfields"></a>
<h2>TooManyFields</h2>
<p>Since: PHPMD 0.1</p>
<p>Classes that have too many fields could be redesigned to have fewer fields, possibly through some nested object grouping of some of the information. For example, a class with city/state/zip fields could instead have one Address field.</p>
<p>Example: :</p>
<pre><code class="">class Person {
   protected $one;
   private $two;
   private $three;
   [... many more fields ...]
}
</code></pre>
<p>This rule has the following properties:</p>
<table><tr><th>Name</th><th>Default Value</th><th>Description</th></tr><tr><td>maxfields</td><td>15</td><td>The field count reporting threshold</td></tr></table>
<a id="toomanymethods"></a>
<h2>TooManyMethods</h2>
<p>Since: PHPMD 0.1</p>
<p>A class with too many methods is probably a good suspect for refactoring, in order to reduce its complexity and find a way to have more fine grained objects. By default it ignores methods starting with 'get' or 'set'. The default was changed from 10 to 25 in PHPMD 2.3.</p>
<p>This rule has the following properties:</p>
<table><tr><th>Name</th><th>Default Value</th><th>Description</th></tr><tr><td>maxmethods</td><td>25</td><td>The method count reporting threshold</td></tr><tr><td>ignorepattern</td><td>(^(set|get))i</td><td>Ignore methods matching this regex</td></tr></table>
<a id="toomanypublicmethods"></a>
<h2>TooManyPublicMethods</h2>
<p>Since: PHPMD 0.1</p>
<p>A class with too many public methods is probably a good suspect for refactoring, in order to reduce its complexity and find a way to have more fine grained objects. By default it ignores methods starting with 'get' or 'set'.</p>
<p>This rule has the following properties:</p>
<table><tr><th>Name</th><th>Default Value</th><th>Description</th></tr><tr><td>maxmethods</td><td>10</td><td>The method count reporting threshold</td></tr><tr><td>ignorepattern</td><td>(^(set|get))i</td><td>Ignore methods matching this regex</td></tr></table>
<a id="excessiveclasscomplexity"></a>
<h2>ExcessiveClassComplexity</h2>
<p>Since: PHPMD 0.2.5</p>
<p>The Weighted Method Count (WMC) of a class is a good indicator of how much time and effort is required to modify and maintain this class. The WMC metric is defined as the sum of complexities of all methods declared in a class. A large number of methods also means that this class has a greater potential impact on derived classes.</p>
<p>Example: :</p>
<pre><code class="">class Foo {
    public function bar() {
        if ($a == $b)  {
            if ($a1 == $b1) {
                fiddle();
            } elseif ($a2 == $b2) {
                fiddle();
            } else {
            }
        }
    }
    public function baz() {
        if ($a == $b) {
            if ($a1 == $b1) {
                fiddle();
            } elseif ($a2 == $b2) {
                fiddle();
            } else {
            }
        }
    }
    // Several other complex methods
}
</code></pre>
<p>This rule has the following properties:</p>
<table><tr><th>Name</th><th>Default Value</th><th>Description</th></tr><tr><td>maximum</td><td>50</td><td>The maximum WMC tolerable for a class.</td></tr></table>
<a id="remark"></a>
<h2>Remark</h2>
<blockquote><p>This document is based on a ruleset xml-file, that was taken from the original source of the <a href="http://pmd.sourceforge.net/">PMD</a> project. This means that most parts of the content on this page are the intellectual work of the PMD community and its contributors and not of the PHPMD project.</p>
</blockquote>
</div>

<div id="navigation">
    <h2>Overview</h2>
    <ul>
        <li><a href="/about.html" title="About">About</a></li><li><a href="/documentation/index.html" title="Documentation">Documentation</a></li><li><a href="/rules/index.html" title="Rules"><strong>Rules</strong></a><ul><li><a href="/rules/cleancode.html" title="Clean Code Rules">Clean Code Rules</a><li><a href="/rules/codesize.html" title="Code Size Rules"><strong>Code Size Rules</strong></a><li><a href="/rules/controversial.html" title="Controversial Rules">Controversial Rules</a><li><a href="/rules/design.html" title="Design Rules">Design Rules</a><li><a href="/rules/naming.html" title="Naming Rules">Naming Rules</a><li><a href="/rules/unusedcode.html" title="Unused Code Rules">Unused Code Rules</a></ul></li><li><a href="/download/index.html" title="Download">Download</a></li><li><a href="/people-behind.html" title="People behind">People behind</a></li><li><a href="/support/index.html" title="Support &amp; Contact">Support &amp; Contact</a></li><li><a href="/for-enterprise.html" title="For Enterprise">For Enterprise</a></li>    </ul>
</div>

<div id="footer">
    By <strong>Manuel Pichler</strong>
    licensed under <a href="https://opensource.org/licenses/bsd-license.php" title="BSD 3-Clause">BSD 3-Clause</a>

    <span class="follow">
        <a href="https://twitter.com/php_pmd" title="Follow on Twitter" class="twitter-follow" target="_blank">
            <i></i> Follow @PHP_PMD
        </a>
        <a rel="me" href="https://phpc.social/@phpmd" title="Follow on Mastodon" class="mastodon-follow" target="_blank">
            <i></i> Follow @phpmd@phpc.social
        </a>
    </span>
</div>

<div id="formats">
        <a href="https://raw.githubusercontent.com/phpmd/phpmd/master/src/site/rst/rules/codesize.rst">Source</a>
    |
    <a href="https://github.com/phpmd/phpmd/edit/master/src/site/rst/rules/codesize.rst">Edit</a>
</div>

<script>
    [].forEach.call(document.querySelectorAll('pre > code'), function (code) {
        code.className += ' block';
    });
</script>
</body>
</html>
